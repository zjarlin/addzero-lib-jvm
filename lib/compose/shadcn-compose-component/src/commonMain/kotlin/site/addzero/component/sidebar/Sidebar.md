# 描述

这里清楚地解释了在 Jetpack Compose 实现中（如 shadcn-like 侧边栏）`SidebarLayout` 和 `SidebarInset` 之间的区别：

---

### **SidebarLayout**
**SidebarLayout** 是一个高级可组合组件，旨在单一组件中管理侧边栏和主要内容布局。它根据设备类型（移动端或桌面端）和侧边栏状态（打开或关闭）处理它们的位置、行为和动画。

#### **主要特性：**
- **移动端模式：**
    - 主要内容占据全屏。
    - 当侧边栏打开时，它会以半透明背景覆盖主要内容，并从侧面滑入（例如，从左侧或右侧）。
- **桌面端模式：**
    - 打开时，侧边栏位于主要内容旁边，通常具有固定宽度（例如，280.dp）。
    - 主要内容会调整宽度以填充剩余空间。
    - 当侧边栏关闭时，它会消失，主要内容会展开以占据全屏。
- **用法：**
    - 您需要提供侧边栏内容和主要内容作为参数。
    - 它会自动管理布局和动画。
- **示例：**
  ```kotlin
  SidebarLayout(
      sidebarContent = { /* 侧边栏内容 */ },
      content = { /* 主要内容 */ }
  )
  ```

---

### **SidebarInset**
**SidebarInset** 是一个专注于管理主要内容区域的可组合组件，根据侧边栏的存在调整其布局。它旨在与单独放置的侧边栏配合使用，为您提供更多对整体布局的控制。

#### **主要特性：**
- **移动端模式：**
    - 与 `SidebarLayout` 类似，主要内容填充屏幕，侧边栏打开时会以背景覆盖它。
- **桌面端模式：**
    - 当侧边栏打开时，通过添加内边距来偏移主要内容以考虑侧边栏的宽度。
    - 与 `SidebarLayout` 不同，它不会自己定位侧边栏——您需要在布局中手动放置侧边栏。
- **用法：**
    - 您需要提供主要内容和侧边栏内容作为参数，但在桌面端模式下，您必须单独放置侧边栏（例如，在 `Row` 中）。
    - 当桌面端模式下侧边栏打开时，它确保主要内容得到适当的内边距。
- **示例：**
  ```kotlin
  Row {
      if (sidebarState.isOpen && !sidebarState.isMobile) {
          Sidebar { /* 侧边栏内容 */ }
      }
      SidebarInset(
          sidebarContent = { /* 移动端覆盖的侧边栏内容 */ },
          content = { /* 主要内容 */ }
      )
  }
  ```

---

### **关键差异**
以下是 `SidebarLayout` 和 `SidebarInset` 之间差异的详细说明：

1. **布局管理：**
    - **`SidebarLayout`：** 在一个组件中完全管理侧边栏和主要内容布局。
    - **`SidebarInset`：** 仅管理主要内容布局；在桌面端模式下，侧边栏的放置需要单独处理。

2. **侧边栏放置：**
    - **`SidebarLayout`：** 根据其状态自动定位和动画侧边栏。
    - **`SidebarInset`：** 在桌面端模式下需要您手动在布局中放置侧边栏。

3. **使用场景：**
    - **`SidebarLayout`：** 适用于简单、即用型解决方案，设置最少。
    - **`SidebarInset`：** 更适合需要灵活自定义侧边栏位置或在其中添加其他元素的情况。

4. **动画：**
    - **`SidebarLayout`：** 通常包含侧边栏出现和消失的内置动画。
    - **`SidebarInset`：** 在桌面端模式下需要手动处理侧边栏动画（例如，使用 `AnimatedVisibility`）。

---

### **何时使用哪一个**
- **选择 `SidebarLayout`** 如果您想要一个直接、即用型的解决方案，可以处理所有事情——侧边栏放置、主要内容布局和动画——适用于移动端和桌面端。
- **选择 `SidebarInset`** 如果您需要更多对布局的控制，例如将侧边栏放置在自定义位置或将它与其他 UI 元素集成。

两者都是强大的工具，但您的选择取决于您的应用程序需要多少自定义程度！